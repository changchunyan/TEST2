<div class="view-frame" >

	<div class="view-left">
		<nav-side menu-data="menu.subMenu"></nav-side>
	</div>

	<div class="view-content">
		<div>
			<div>
				<ul class="breadcrumb">
					<li><a href="#/">首页</a> <span class="divider"></span></li>
					<li><a href="#/o2o-admin">o2o系统管理</a> <span class="divider"></span></li>
					<li class="active">优惠券查看</li>
				</ul>
			</div>
			<div class="tabs-title">查看优惠券
				<div class="leads-top-btn">
					<div class="operations-panel" >
						<button class="btn btn-primary col-xs-offset-8" ng-click="toList()" style="width:90px;">返回</button>
					</div>
				</div>
			</div>
		</div>

		<div class="tabs-wrap">
			<form name="editForm" role="form" class="form-horizontal showcase-form table-responsive" novalidate="">
				<div class="tab-panel">
					<h3 class="row ">基本信息:</h3>
					<div class="row">
						<div class="col-sm-4 form-group">
							<label for="coupon.couponName" class="col-sm-4 control-label">优惠券名称</label>
							<div class="col-sm-8">
								<input type="text" readonly name="coupon.couponName" id="coupon.couponName" ng-model="coupon.couponName" placeholder="1到20个字符" class="form-control" ng-maxlength="20" ng-minlength="1" required/>
							</div>
						</div>
						<div class="col-sm-4 form-group">
							<label for="coupon.limitAmount" class="col-sm-4 control-label">发放数量</label>
							<div class="col-sm-8">
								<input readonly type="number" name="coupon.limitAmount" id="coupon.limitAmount" class="form-control" ng-model="coupon.limitAmount" min="0"  ng-maxlength="6"  style="width: 80%;float: left"/>

							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-4 form-group" >
							<label for="coupon.isShelve" class="col-sm-4 control-label">优惠券状态</label>
							<div class="col-sm-8">
								<select disabled ng-model="coupon.isShelve"  name="coupon.isShelve" id="coupon.isShelve" class="form-control" ng-options="option.id as option.name for option in shelfStatusList">
								</select>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-8 form-group" >
							<label for="coupon.preferentialPolicy" class="col-sm-2 control-label">优惠方式</label>
							<div class="col-sm-10" >
								订单金额 满
								<div class="inline-block" ng-if="coupon.preferentialPolicy == 1">
									<input readonly type="number" name="coupon.couponReductionActivation" id="coupon.couponReductionActivation" class="form-control inline-block" required ng-model="coupon.couponReductionActivation" ng-pattern="/^[0-9]*$/" min="1"  ng-maxlength="6" />
								</div>
								<div class="inline-block" ng-if="coupon.preferentialPolicy == 2">
									<input readonly type="number" name="coupon.couponDiscountActivation" id="coupon.couponDiscountActivation" class="form-control inline-block" required ng-model="coupon.couponDiscountActivation" ng-pattern="/^[0-9]*$/" min="1"  ng-maxlength="6" />
								</div>
								<select disabled ng-model="coupon.preferentialPolicy"  name="coupon.preferentialPolicy" id="coupon.preferentialPolicy" class="yws-form-control inline-block" ng-options="option.id as option.name for option in preferentialPolicyList">
								</select>
								<div class="inline-block" ng-if="coupon.preferentialPolicy == 1">
									<input readonly type="number" name="coupon.couponReduction" placeholder="输入数字"  id="coupon.couponReduction" class="yws-form-control inline-block" required ng-model="coupon.couponReduction" ng-pattern="/^[0-9]*$/" min="1"  style="width: 200px;outline-color: invert;"  ng-maxlength="6" />元
								</div>
								<div class="inline-block" ng-if="coupon.preferentialPolicy == 2">
									<input readonly type="number" name="coupon.couponDiscount" placeholder="可用小数点，如9.5折"  id="coupon.couponDiscount" ng-pattern="/^([1-9]\d*|0)(\.\d{1,2})?$/" class="yws-form-control inline-block" required style="width: 200px;outline-color: invert;" ng-model="coupon.couponDiscount" min="0.01" max="9.99"  ng-maxlength="6" />折
								</div>
							</div>
						</div>
					</div>

					<h3 class="row ">使用规则:</h3>
					<div class="row">
						<div class="col-sm-4 form-group" >
							<label for="coupon.isAmountLimit" class="col-sm-4 control-label">限制领取</label>
							<div class="col-sm-8">
								<div class="col-sm-4">
									<input disabled type="radio" name="coupon.isAmountLimit" ng-model="coupon.isAmountLimit" value="0" class="ng-pristine ng-untouched ng-valid needsclick">不限
									<input disabled type="radio" name="coupon.isAmountLimit" ng-model="coupon.isAmountLimit" value="1" class="ng-pristine ng-untouched ng-valid needsclick">限制
								</div>
								<div class="col-sm-8" ng-if="coupon.isAmountLimit == 1">
									<input readonly type="number" name="coupon.amountPerPerson" id="coupon.amountPerPerson" class="form-control col-sm-8" ng-model="coupon.amountPerPerson" required min="1" ng-maxlength="4" style="width: 65%"/>
									<span  class="col-sm-4 control-label">张/账号</span>
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-4 form-group" >
							<label for="coupon.validitystarttime" class="col-sm-4 control-label">开始时间</label>
							<div class="col-sm-8">
								<input type="text" name="coupon.validitystarttime"  class="form-control"
									   ng-model="coupon.validitystarttime" ng-value="{{ coupon.validitystarttime  }}" onchange=""  readonly  required/>
							</div>
						</div>
						<div class="col-sm-4 form-group" >
							<label for="coupon.validityendtime" class="col-sm-4 control-label">结束时间</label>
							<div class="col-sm-8">
								<input type="text" name="coupon.validityendtime"  class="form-control"
									   ng-model="coupon.validityendtime" ng-value="{{ coupon.validityendtime  }}" onchange=""  readonly  required/>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-4 form-group" >
							<label for="coupon.isCourseLimit" class="col-sm-4 control-label">可使用课程</label>
							<div class="col-sm-8">
								<div class="col-sm-8">
									<input disabled type="radio" name="coupon.isCourseLimit" ng-model="coupon.isCourseLimit" value="0" class="ng-pristine ng-untouched ng-valid needsclick">所有课程
									<input disabled type="radio" name="coupon.isCourseLimit" ng-model="coupon.isCourseLimit" value="1" class="ng-pristine ng-untouched ng-valid needsclick">指定课程
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-4 form-group" >
							<label class="col-sm-4 control-label"></label>
							<div class="col-sm-8" ng-if="coupon.isCourseLimit == 1">
								<table class="table table-bordered table-striped table-condensed" st-pipe="getSelectCourseList" st-table="selectCourseList">
									<thead></thead>
									<tbody>
									<tr ng-repeat="row in selectCourseList">
										<td>{{row.name}}</td>
									</tr>
									</tbody>
									<tfoot>
									<tr>
										<td class="text-center" st-pagination="" st-items-by-page="10" st-template="partials/util/pagination.custom.html" st-template="partials/util/pagination.custom.html" colspan="20">
										</td>
									</tr>
									</tfoot>
								</table>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-4 form-group" >
							<label for="coupon.isRegionLimit" class="col-sm-4 control-label">可使用地区</label>
							<div class="col-sm-8">
								<div class="col-sm-8" >
									<input disabled type="radio" name="coupon.isRegionLimit" ng-model="coupon.isRegionLimit" value="0" class="ng-pristine ng-untouched ng-valid needsclick">所有地区
									<input disabled type="radio" name="coupon.isRegionLimit" ng-model="coupon.isRegionLimit" value="1" class="ng-pristine ng-untouched ng-valid needsclick">指定地区
								</div>

							</div>
						</div>

					</div>
					<div class="row">
						<div class="col-sm-4 form-group" >
							<label class="col-sm-4 control-label"></label>
							<div class="table-responsive col-sm-4" ng-if="coupon.isRegionLimit == 1">
								<div ng-repeat="row in selectRegionList" class="border-top1">
									<div>
										<span>{{row.name}}</span>
									</div>
								</div>
							</div>
						</div>
					</div>

					<h3 class="row ">获取条件:</h3>
					<div class="row">
						<div class="col-sm-4 form-group" >
							<label for="coupon.gainConditionType" class="col-sm-4 control-label"></label>
							<div class="col-sm-8">
								<select disabled ng-model="coupon.gainConditionType"  name="coupon.gainConditionType" id="coupon.gainConditionType" class="form-control" ng-options="option.id as option.name for option in gainConditionTypeList">
								</select>
							</div>
						</div>

						<div class="col-sm-8" ng-if="coupon.gainConditionType == 3">
							<div class="col-sm-2" ng-if="coupon.key">
								<input type="text" class="form-control"  readonly value="模板已上传" />
							</div>

						</div>

						<div class="col-sm-4 form-group"  >
							<div class="col-sm-8">
								<input type="hidden" name="coupon.key" ng-model="coupon.key" class="ng-pristine ng-untouched ng-valid needsclick"/>
							</div>
						</div>
					</div>

				</div>
				<div class="text-center">
					<input type="hidden" ng-model="coupon.id"/>
					<button class="btn btn-default" ng-click="toList()">返回</button>
				</div>
			</form>
		</div>

	</div>
</div>

<script type="text/javascript">
	window.load = pause();
	function pause(){
		window.setTimeout("tooltipShow()", 1000);
	}
	function tooltipShow() {
		var node = $("#showAmountLimit");
		var content = '1. 给指定用户发放优惠券时，可不填； <br/>2. 对优惠券的发放数量无要求时，可不填。';
		node.webuiPopover({content:content,trigger:'hover'});
	}
</script>